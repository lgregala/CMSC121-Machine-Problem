<!DOCTYPE html>
<html lang="en">
<head>
	{% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Winky+Rough:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&family=Oleo+Script:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'Styles/Navbar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'Styles/Footer.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'Styles/Products.css' %}">
	<link rel="stylesheet" type="text/css" href="{% static 'Styles/Cart.css' %}">
    <script src="{% static 'Scripts/Navbar.js' %}"></script>
    <script src="{% static 'Scripts/Products.js' %}" defer></script>
</head>
<body>
	{% include 'navbar.html' %}

	<div class="row">
		<div class="col-lg-12">
			<div class="box-element box1">
				<a class="cart-btn btn-outline-light" href="{% url 'products' %}">&#x2190; Continue Shopping</a> <br><br>
				<table class="table">
					<tr>
						<th><h5>Items: {{ order.get_cart_items }} </h5></th>
						<th><h5>Total: ₱{{ order.get_cart_total | floatformat:2 }} </h5></th>
						<th>
							<a style="float:right; margin:5px;" class="cart-btn btn-success" href="{% url 'cart' %}">Checkout</a>
						</th>
					</tr>
				</table>
			</div>

			{% if items %}
			<div class="box-element box2">
				<div class="cart-row">
					<div style="flex:2"></div>
					<div style="flex:2"><strong>Item</strong></div>
					<div style="flex:1"><strong>Price</strong></div>
					<div style="flex:1"><strong>Quantity</strong></div>
					<div style="flex:1"><strong>Total</strong></div>
				</div>
				{% for item in items %}
					<div class="cart-row">
						<div style="flex:2"><img class="row-image" src="{{item.product.imageURL}}"></div>
						<div style="flex:2"><p>{{ item.product.name }}</p></div>
						<div style="flex:1"><p>₱{{ item.product.price | floatformat:2 }}</p></div>
						<div style="flex:1">
							<div class="quantity-arrow-wrapper">
								<img data-product="{{item.product.id}}" data-action="add" class="chg-quantity update-cart" src="{% static 'images/arrow-left.png' %}">
								<div class="item-quantity"> {{ item.quantity }} </div>
								<img data-product="{{item.product.id}}" data-action="remove" class="chg-quantity update-cart" src="{% static 'images/arrow-right.png' %}">
							</div>
						</div>
						<div style="flex:1"><p>₱{{ item.get_total | floatformat:2 }}</p></div>
					</div>
				{% endfor %}
			</div>
			{% else %}
				<div class="box-element">
					<img src="{% static 'Images/Empty-Cart.png' %}" class="emptyCartImg">
					<div class="emptyCartMsg"> There are currently no items in your cart. </div>
				</div>
			{% endif %}
		</div>
	</div>

	{% include 'footer.html' %}
</body>
</html>
